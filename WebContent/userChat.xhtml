<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:f="http://xmlns.jcp.org/jsf/core">
	
	<h:head>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"/>
		<link rel="stylesheet" type="text/css" href="resources/css/chat.css"/>
		<h:outputScript library = "js" name = "websockets.js"  /> 
		<meta charset="ISO-8859-1"/>
		<title>User Chat</title>
	</h:head>
	
	<body class="text-center">
		<h2 class="form-signin-heading">Chat P2P - User Chat</h2>
		<hr />
		<h:form rendered="#{user.name != null || !empty user.name}" prependId="false">
		<h:inputHidden id="channelId" name="channelId" value="#{user.conversationId}"/>
		<h:inputHidden id="displayName" name="displayName" value="#{user.name}"/>
		<div class="container">
	  		<div class="row">
	    		<div class="col-sm">
	    			<h:outputText class="left" value = "History:" /><br/>
	      			<h:inputTextarea name="chatlog" id="chatlog" cols="80" rows="15" readonly="true"/>
	   			 </div>
	  		</div>
	  		<div class="row">
				<div class="col-sm">
					<h:outputText class="left" value = "Message:" /><br/>
					<h:inputTextarea name="textbox" id="textbox" cols="80" rows="2"/><br/>
					<h:button class="btn btn-lg btn-primary btn-block" id="smaller" value="Send" onclick="sendChatMessage(); return false;" />
				</div>
	  		</div>
		</div>
		</h:form>
		<h:panelGroup layout="block" rendered="#{user.name == null || empty user.name}">
	 		<h:link value="Please sign in" outcome="userLogin.xhtml"/>
		</h:panelGroup>
		
	</body>
</html>